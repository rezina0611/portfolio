<!DOCTYPE html>
<html lang="ko"><head>
    <meta charset="UTF-8">
    <title>KT MOA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="/images/favicon.ico">

    <!-- 기존 css -->
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <link rel="stylesheet" type="text/css" href="./css/resetting.css">
    <link rel="stylesheet" type="text/css" href="./css/dialog.css">
    <link rel="stylesheet" type="text/css" href="./css/wireless.css">

    <link href="./css/popup.css" rel="stylesheet" type="text/css">  <!--20220621-->
    
    <!-- tui css -->
    <link rel="stylesheet" type="text/css" href="./css/tui-pagination.css">
    <link rel="stylesheet" type="text/css" href="./css/tui-grid.css">
    <link rel="stylesheet" type="text/css" href="./css/tui-time-picker.css">
    <link rel="stylesheet" type="text/css" href="./css/tui-date-picker.css">
    <link rel="stylesheet" type="text/css" href="./css/toastui-select-box.css">

    <!-- toggle css -->
    <link rel="stylesheet" type="text/css" href="./css/simple-sidebar.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">

    <!-- Bootstrap core CSS -->

    <!-- FILEUPLOAD -->
    <link rel="stylesheet" type="text/css" href="./css/jquery.fileupload.css">
    <link rel="stylesheet" type="text/css" href="./css/jquery.fileupload-ui.css">

    <!-- 기존 js -->
    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/script.js"></script>
    <script type="text/javascript" src="./js/scripts.js"></script>
    <script type="text/javascript" src="./js/jquery.nicescroll.js"></script>

    <script type="text/javascript" src="./js/main.js"></script>
    <script type="text/javascript" src="./js/common-functions.js"></script>

    <!-- tui js -->
    <script type="text/javascript" src="./js/tui-pagination.js"></script>
    <script type="text/javascript" src="./js/tui-grid.js"></script>
    <script type="text/javascript" src="./js/tui-code-snippet.js"></script>
    <script type="text/javascript" src="./js/tui-time-picker.js"></script>
    <script type="text/javascript" src="./js/tui-date-picker.js"></script>
    <script type="text/javascript" src="/js/tui-date-picker-ko.js"></script>
    <script type="text/javascript" src="./js/tui-calendar.js"></script>
    <script type="text/javascript" src="./js/toastui-select-box.js"></script>
    <!-- <script type="text/javascript" src="/grid/device_5glte3g_list_grid.js"></script> -->
    <script>
        const Grid = tui.Grid;
        Grid.applyTheme('default', {
            outline: {
                border: '#e0e0e0'
            },
            cell: {
                normal: {
                    background: '#fff',
                    border: '#e0e0e0',
                    color: '#666666'
                },
                header: {
                    background: '#f4f4f4',
                    border: '#e0e0e0'
                },
                evenRow: {
                    background: '#fff',
                    border: '#e0e0e0',
                    color: '#666666'
                },
                oddRow: {
                    background: '#fff',
                    border: '#e0e0e0',
                    color: '#666666'
                }
            }
        }); // Call API of static
    </script>
        <style type="text/css" id="tui-grid-theme-style">
            .tui-grid-border-line-top{border-top:1px solid #e0e0e0}
            .tui-grid-no-scroll-x .tui-grid-border-line-bottom{border-bottom:1px solid #e0e0e0}.tui-grid-frozen-border{background-color:#aaa}
            .tui-grid-container ::-webkit-scrollbar{background-color:#fff}.tui-grid-container ::-webkit-scrollbar-thumb{background-color:#ddd}
            .tui-grid-container ::-webkit-scrollbar-thumb:hover{background-color:#ddd;}
            .tui-grid-container{scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-track-color:#fff;scrollbar-shadow-color:#fff;
                scrollbar-face-color:#ddd;scrollbar-highlight-color:#ddd;scrollbar-arrow-color:#ddd;}
            .tui-grid-border-line-bottom{border-bottom:1px solid #eee}
            .tui-grid-content-area{border-color:#eee}.tui-grid-scrollbar-y-inner-border{background-color:#eee}
            .tui-grid-scrollbar-y-outer-border{background-color:#eee}
            .tui-grid-scrollbar-right-top{background-color:#f9f9f9;border-color:#eee}
            .tui-grid-scrollbar-right-bottom{background-color:#f9f9f9;border-color:#eee}
            .tui-grid-scrollbar-left-bottom{background-color:#f9f9f9;border-color:#eee}
            .tui-grid-scrollbar-frozen-border{background-color:#f9f9f9;border-color:#eee}
            .tui-grid-height-resize-handle{background-color:#fff;border-color:#fff}
            .tui-grid-pagination{background-color:transparent;border-color:transparent}
            .tui-grid-layer-selection{background-color:#00A9ff;border-color:#00a9ff}
            .tui-grid-header-area{background-color:#fff;border-color:#ccc}
            .tui-grid-body-area{background-color:#fff}.tui-grid-summary-area{background-color:#fff;border-color:#eee}
            .tui-grid-has-summary-top .tui-grid-body-area{border-color:#eee}
            .tui-grid-cell{background-color:#fff;border-color:#e0e0e0;border-left-width:0;border-right-width:0;border-top-width:1px;border-bottom-width:1px;color:#333}
            .tui-grid-cell-editable{background-color:#fff}.tui-grid-show-lside-area .tui-grid-lside-area .tui-grid-header-area .tui-grid-table{border-right-style:solid}
            .tui-grid-cell-header{background-color:#f4f4f4;border-color:#e0e0e0;border-left-width:1px;border-right-width:1px;border-top-width:1px;border-bottom-width:1px;color:#222}
            .tui-grid-show-lside-area .tui-grid-lside-area .tui-grid-body-area .tui-grid-table{border-right-style:hidden}
            .tui-grid-cell-row-header{background-color:#fff;border-color:#eee;border-left-width:0;border-right-width:0;border-top-width:1px;border-bottom-width:1px;color:#333}
            .tui-grid-show-lside-area .tui-grid-lside-area .tui-grid-summary-area .tui-grid-table{border-right-style:hidden}
            .tui-grid-cell-summary{background-color:#fff;border-color:#eee;border-left-width:0;border-right-width:0;color:#333}
            .tui-grid-cell-required{background-color:#fffdeb}
            .tui-grid-cell-disabled{background-color:#f9f9f9;color:#c1c1c1}
            .tui-grid-cell-invalid.tui-grid-cell{background-color:#ffe5e5}
            .tui-grid-cell-header.tui-grid-cell-selected{background-color:#e5f6ff}
            .tui-grid-cell-row-header.tui-grid-cell-selected{background-color:#e5f6ff}
            .tui-grid-layer-focus-border{background-color:#00a9ff}.tui-grid-layer-editing{border-color:#00a9ff}
            .tui-grid-layer-focus-deactive .tui-grid-layer-focus-border{background-color:#aaa}
            .tui-grid-row-odd>td{background-color:#fff}.tui-grid-row-even>td{background-color:#fff}.tui-grid-cell-dummy{background-color:#fff}
        </style>
</head>

<body>
<div class="d-flex" id="wrapper">
    <!-- Sidebar -->
    <div id="sidebar" class="nav-collapse">
        <button id="menu-toggle"><i class="fas fa-bars"></i></button>
        <div class="user-bg">
            <div class="brand">
                <img src="./images/logo.png" alt="KTmos wMMS">
            </div>
            <div class="user-area">
                <div class="user-name">
                	<span style="width: 60%;word-break:break-all;word-wrap:break-word;float: left;">관리자 님</span>
                	<span class="area-badge">북부</span>
                </div>
                <div class="user-btn m--3" style="margin-top: 35px;">
                    <li><a href="javascript:void(0);" onclick="fn_modify(this)">정보수정</a></li>
                    <li><a href="javascript:void(0);" onclick="fn_logout(this);">로그아웃</a></li>
                </div>
            </div>
        </div>
            <!-- 메뉴 표시 -->
            <ul class="sidebar-menu" id="nav-accordion">
                <li class="sub-menu"><a href="javascript:showSub1('M01S01')">인수시험관리<span class="dcjq-icon"></span></a>
                    <ul class="sub" id="subMenuM01S01" style="display: none;">
                        <li><a href="/acceptcheck/list/M01S01" id="" class="" target="">인수시험정보조회</a></li>
                    </ul>
                </li>
                <li class="sub-menu"><a href="javascript:showSub1('M02S01')">국소정보<span class="dcjq-icon"></span></a>
                    <ul class="sub" id="subMenuM02S01" style="display:none;">
                        <li><a href="/device/5glte3g/list/M02S01" id="" class="" target="">국소정보조회-5G/LTE/3G</a></li>
                        <li><a href="/device/repeater/list/M02S02" id="" class="" target="">국소정보조회-중계기</a></li>
                        <li><a href="/device/wifi/list/M02S03" id="" class="" target="">국소정보조회-WiFi</a></li>
                    </ul>
                </li>
                <li class="sub-menu"><a href="javascript:showSub1('M03S01')">정기점검<span class="dcjq-icon"></span></a>
                    <ul class="sub" id="subMenuM03S01" style="display: none;">
                        <li><a href="/regularinspection/list/M03S01" id="" class="" target="">정기점검조회</a></li>
                    </ul>
                </li>
                <li class="sub-menu"><a href="javascript:showSub1('M04S01')">전기안전점검<span class="dcjq-icon"></span></a>
                    <ul class="sub" id="subMenuM04S01" style="display: none;">
                        <li><a href="/electricsafety/plan/list/M04S01" id="" class="" target="">계획관리</a></li>
                        <li><a href="/electricsafety/inspection/list/M04S02" id="" class="" target="">점검관리</a></li>
                        <li><a href="/electricsafety/result/list/M04S03" id="" class="" target="">대응결과조회</a></li>
                    </ul>
                </li>
                <li class="sub-menu"><a href="javascript:showSub1('M05S01')">위험국소<span class="dcjq-icon"></span></a>
                    <ul class="sub" id="subMenuM05S01" style="display: none;">
                        <li><a href="/dangerinspection/list/M05S01" id="" class="" target="">위험국소조회</a></li>
                    </ul>
                </li>
                <li class="sub-menu"><a href="#none">아차사고<span class="dcjq-icon"></span></a>
                    <ul class="sub" id="" style="display: none;">
                        <li><a href="#none" id="" class="active" target="">아차사고조회</a></li>
                    </ul>
                </li>
                <li class="sub-menu"><a href="javascript:showSub1('M06S01')">부대시설<span class="dcjq-icon"></span></a>
                    <ul class="sub" id="subMenuM06S01" style="display: block;">
                        <li><a href="/additionalfacilities/list/M06S01" id="" class="" target="">부대시설점검조회</a></li>
                    </ul>
                </li>
                    <li class="sub-menu"><a href="javascript:showSub1('M07S01')">긴급복구물자관리<span class="dcjq-icon"></span></a>
                        <ul class="sub" id="subMenuM07S01" style="display: none;">
                            <li><a href="/emergencymaterial/status/M07S01" id="" class="" target="">긴급복구현황표</a></li>
                            <li><a href="/emergencymaterial/master/list/M07S02" id="" class="" target="">긴급복구물자</a></li>
                            <li><a href="/emergencymaterial/history/list/M07S03" id="" class="" target="">긴급복구물자사용</a></li>
                        </ul>
                    </li>
                    <li class="sub-menu"><a href="javascript:showSub1('M09S01')">안전용품관리<span class="dcjq-icon"></span></a>
                        <ul class="sub" id="subMenuM09S01" style="display: none;">
                            <li><a href="/item-safety/status/M09S01" id="" class="" target="">현황표</a></li>
                            <li><a href="/item-safety/list/M09S02" id="" class="" target="">안전용품등록</a></li>
                        </ul>
                    </li>
                    <li class="sub-menu"><a href="javascript:showSub1('M15S01')">현장수시업무<span class="dcjq-icon"></span></a>
                        <ul class="sub" id="subMenuM15S01" style="display: none;">
                            <li><a href="/onsite/list/M15S01" id="" class="" target="">현장수시업무현황</a></li>
                        </ul>
                    </li>
                    <li class="sub-menu"><a href="javascript:showSub1('M08S01')">Safe365<span class="dcjq-icon"></span></a>
                        <ul class="sub" id="subMenuM08S01" style="display: none;">
                            <li><a href="/safe365/safety/list/M08S01" id="" class="" target="">안전점검 체크 리스트</a></li>
                            <li><a href="/safe365/highcar/list/M08S02" id="" class="" target="">고소작업차 사용 작업 계획서</a></li>
                            <li><a href="/safe365/aerial/list/M08S03" id="" class="" target="">고소작업차 작업 전 점검표</a></li>
                            <li><a href="/safe365/status/M08S04" id="" class="" target="">현장 안전점검 현황</a></li>
                        </ul>
                    </li>
                    <li class="sub-menu"><a href="javascript:showSub1('M14S01')">작업중지권<span class="dcjq-icon"></span></a>
                        <ul class="sub" id="subMenuM14S01" style="display: none;">
                            <li><a href="/stopwork/list/M14S01" id="" class="" target="">작업중지권 조회</a></li>
                            <li><a href="/stopwork/apply/list/M14S02" id="" class="" target="">작업중지권 승인관리</a></li>
                        </ul>
                    </li>
                    <li class="sub-menu"><a href="javascript:showSub1('M16S01')">현장업무지원<span class="dcjq-icon"></span></a>
                        <ul class="sub" id="subMenuM16S01" style="display: none;">
                            <li><a href="/support/acs/list/M16S01" id="" class="" target="">ACS</a></li>
                            <li><a href="/support/rsa/list/M16S02" id="" class="" target="">RSA</a></li>
                        </ul>
                    </li>
                    <li class="sub-menu"><a href="javascript:showSub1('M11S01')">예비품관리<span class="dcjq-icon"></span></a>
                        <ul class="sub" id="subMenuM11S01" style="display: none;">
                            <li><a href="/spare/list/M11S01" id="" class="" target="">예비품관리</a></li>
                        </ul>
                    </li>
                    <li class="sub-menu"><a href="javascript:showSub1('M10S01')">업로드관리<span class="dcjq-icon"></span></a>
                        <ul class="sub" id="subMenuM10S01" style="display: none;"><li><a href="/device/5glte3g/excel/list/M10S01" id="" class="" target="">국소정보업로드-5G/LTE/3G</a></li>
                            <li><a href="/device/repeater/excel/list/M10S02" id="" class="" target="">국소정보업로드-중계기</a></li>
                            <li><a href="/device/wifi/excel/list/M10S03" id="" class="" target="">국소정보업로드-WIFI</a></li>
                            <li><a href="/device/acceptcheck/excel/list/M10S04" id="" class="" target="">인수시험</a></li>
                            <li><a href="/device/regularinspection/excel/list/M10S05" id="" class="" target="">정기점검</a></li>
                            <li><a href="/device/regularinspection_riu/excel/list/M10S06" id="" class="" target="">정기점검 RIU</a></li>
                            <li><a href="/device/regularinspection_du/excel/list/M10S07" id="" class="" target="">정기점검 DU</a></li>
                            <li><a href="/device/regularinspection_wifi/excel/list/M10S08" id="" class="" target="">정기점검 WiFi</a></li>
                            <li><a href="/device/additionalfacilities/excel/list/M10S09" id="" class="" target="">부대시설점검</a></li>
                            <li><a href="/device/electricsafety/excel/list/M10S10" id="" class="" target="">전기안전점검 계획</a></li>
                            <li><a href="/device/dangerstation/excel/list/M10S11" id="" class="" target="">위험국소</a></li>
                            <li><a href="/device/emergencymaterial/excel/list/M10S12" id="" class="" target="">긴급복구물자 사용</a></li>
                        </ul>
                    </li>
                    <li class="sub-menu"><a href="javascript:showSub1('M13S01')">대시보드<span class="dcjq-icon"></span></a>
                        <ul class="sub" id="subMenuM13S01" style="display: none;">
                            <li><a href="/dashboard/inspection/M13S01" id="" class="" target="_blank">정기점검 현황</a></li>
                            <li><a href="/dashboard/accept/M13S02" id="" class="" target="_blank">인수시험 현황</a></li>
                            <li><a href="/dashboard/danger/M13S03" id="" class="" target="_blank">위험국소 현황</a></li>
                            <li><a href="/dashboard/setting/list/M13S04" id="" class="" target="">모수관리</a></li>
                        </ul>
                    </li>
                </ul>
        <!--</div>-->
    </div>
    <!-- /#sidebar-wrapper -->
    <!-- Page Content -->
    <link rel="stylesheet" type="text/css" href="./css/multifreezer.css">
    <script type="text/javascript" src="./js/multifreezerStandalone.js"></script>
    <!-- Page Content -->
<div id="page-content-wrapper">
    <section class="wrapper">
        <!-- 페이지 내용 시작   -->
        
        <h1 id="page_tit">안전용품관리 <span class="sub_tit">안전용품 수량수정</span></h1>
        
        <form id="itemSafetyEdit" name="itemSafetyEdit">
            <div class="group-section m-t-15">
                <table class="hit">
                    <colgroup>
                        <col width="100"><col>
                    </colgroup>
                    <tbody>
                        <tr>
                            <th>부서</th>
                            <td>
                                <div class="hit-group" style="display: flex;">
                                    <div id="selectDept1Code" style="width: 25%;margin-left: 15px;">
                                        <div class="tui-select-box"><div class="tui-select-box-input" tabindex="0">
                                            <p class="tui-select-box-placeholder">KT MOS 북부</p>
                                            <span class="tui-select-box-icon">select</span>
                                        </div>
                                            <ul class="tui-select-box-dropdown tui-select-box-hidden">
                                                <li class="tui-select-box-item" tabindex="-1" data-value="" data-index="0">지역</li>
                                                <li class="tui-select-box-item tui-select-box-selected" tabindex="-1" data-value="KTN000" data-index="1">KT MOS 북부</li><li class="tui-select-box-item" tabindex="-1" data-value="KTS000" data-index="2">KT MOS 남부</li></ul><select class="tui-select-box-hidden" tabindex="-1"><option label="지역" value=""></option><option value="" label="지역"></option><option value="KTN000" label="KT MOS 북부"></option><option value="KTS000" label="KT MOS 남부"></option></select></div></div>
                                    <input type="hidden" id="searchRegion" name="searchRegion" value="KTN000">

                                    <div id="selectDept2Code" style="width: 25%;margin-left: 15px;"><div class="tui-select-box"><div class="tui-select-box-input" tabindex="0"><p class="tui-select-box-placeholder">강북본부</p><span class="tui-select-box-icon">select</span></div><ul class="tui-select-box-dropdown tui-select-box-hidden"><li class="tui-select-box-item" tabindex="-1" data-value="" data-index="0">본부</li><li class="tui-select-box-item" tabindex="-1" data-value="AD0000" data-index="1">경영총괄</li><li class="tui-select-box-item" tabindex="-1" data-value="AE0000" data-index="2">기술총괄</li><li class="tui-select-box-item" tabindex="-1" data-value="AE0500" data-index="3">품질지원센터</li><li class="tui-select-box-item tui-select-box-selected" tabindex="-1" data-value="BA0000" data-index="4">강북본부</li><li class="tui-select-box-item" tabindex="-1" data-value="BB0000" data-index="5">강남본부</li><li class="tui-select-box-item" tabindex="-1" data-value="BC0000" data-index="6">강서본부</li><li class="tui-select-box-item" tabindex="-1" data-value="BD0000" data-index="7">강원본부</li></ul><select class="tui-select-box-hidden" tabindex="-1"><option label="본부" value=""></option><option value="" label="본부"></option><option value="AD0000" label="경영총괄"></option><option value="AE0000" label="기술총괄"></option><option value="AE0500" label="품질지원센터"></option><option value="BA0000" label="강북본부"></option><option value="BB0000" label="강남본부"></option><option value="BC0000" label="강서본부"></option><option value="BD0000" label="강원본부"></option></select></div></div>
                                    <input type="hidden" id="searchHeadOffice" name="searchHeadOffice" value="BA0000">

                                    <div id="selectDept3Code" style="width: 25%;margin-left: 15px;"><div class="tui-select-box"><div class="tui-select-box-input" tabindex="0"><p class="tui-select-box-placeholder">운용지원팀</p><span class="tui-select-box-icon">select</span></div><ul class="tui-select-box-dropdown tui-select-box-hidden"><li class="tui-select-box-item" tabindex="-1" data-value="" data-index="0">팀</li><li class="tui-select-box-item tui-select-box-selected" tabindex="-1" data-value="BA0100" data-index="1">운용지원팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0400" data-index="2">신내운용팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0300" data-index="3">청량운용팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0207" data-index="4">파주운용팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0206" data-index="5">포천운용팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0205" data-index="6">남양주운용팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0204" data-index="7">행당운용팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0203" data-index="8">아현운용팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0200" data-index="9">충정운용팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0106" data-index="10">현장안전팀</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0500" data-index="11">고양운용팀</li></ul><select class="tui-select-box-hidden" tabindex="-1"><option label="팀" value=""></option><option value="" label="팀"></option><option value="BA0100" label="운용지원팀"></option><option value="BA0400" label="신내운용팀"></option><option value="BA0300" label="청량운용팀"></option><option value="BA0207" label="파주운용팀"></option><option value="BA0206" label="포천운용팀"></option><option value="BA0205" label="남양주운용팀"></option><option value="BA0204" label="행당운용팀"></option><option value="BA0203" label="아현운용팀"></option><option value="BA0200" label="충정운용팀"></option><option value="BA0106" label="현장안전팀"></option><option value="BA0500" label="고양운용팀"></option></select></div></div>
                                    <input type="hidden" id="searchTeam" name="searchTeam" value="BA0100">

                                    <div id="selectDept4Code" style="width: 25%;margin-left: 15px;"><div class="tui-select-box"><div class="tui-select-box-input" tabindex="0"><p class="tui-select-box-placeholder">파트</p><span class="tui-select-box-icon">select</span></div><ul class="tui-select-box-dropdown tui-select-box-hidden"><li class="tui-select-box-item tui-select-box-selected" tabindex="-1" data-value="" data-index="0">파트</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0102" data-index="1">품질개선파트</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0103" data-index="2">고객VOC처리파트</li><li class="tui-select-box-item" tabindex="-1" data-value="BA0107" data-index="3">미래사업파트</li></ul><select class="tui-select-box-hidden" tabindex="-1"><option label="파트" value=""></option><option value="" label="파트"></option><option value="BA0102" label="품질개선파트"></option><option value="BA0103" label="고객VOC처리파트"></option><option value="BA0107" label="미래사업파트"></option></select></div></div>
                                    <input type="hidden" id="searchPart" name="searchPart" value="">
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="group-section m-t-15">
                <div class="title">안전용품 수량수정</div>
                <table id="itemTable" class="hit hit-p">
                    <colgroup>
                        <col width="100">
                        <col width="100">
                        <col width="100">
                    </colgroup>
                    <tbody>
                        <tr>
                            <th>품목</th>
                            <th>현재</th>
                            <th>변경</th>
                        </tr>
                                                                                    <tr>
                                <td>안전모</td>
                                <td><input type="text" id="quantity0" name="quantity0" value="0" tabindex="-1"  class="input-edit"></td>
                                <td><input type="text" id="quantityNew0" name="quantityNew0" value="" tabindex="1" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode0" name="itemCode0" value="I101001">
                            <input type="hidden" id="safetyItemStatusId0" name="safetyItemStatusId0" value="21">
                                                        <tr>
                                <td>안전화</td>
                                <td><input type="text" id="quantity1" name="quantity1" value="3" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew1" name="quantityNew1" value="" tabindex="2" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode1" name="itemCode1" value="I101002">
                            <input type="hidden" id="safetyItemStatusId1" name="safetyItemStatusId1" value="22">
                                                        <tr>
                                <td>안전대(그네식)</td>
                                <td><input type="text" id="quantity2" name="quantity2" value="0" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew2" name="quantityNew2" value="" tabindex="3" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode2" name="itemCode2" value="I101003">
                            <input type="hidden" id="safetyItemStatusId2" name="safetyItemStatusId2" value="23">
                                                        <tr>
                                <td>안전대(주상용)</td>
                                <td><input type="text" id="quantity3" name="quantity3" value="0" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew3" name="quantityNew3" value="" tabindex="4" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode3" name="itemCode3" value="I101004">
                            <input type="hidden" id="safetyItemStatusId3" name="safetyItemStatusId3" value="24">
                                                        <tr>
                                <td>안전조끼</td>
                                <td><input type="text" id="quantity4" name="quantity4" value="0" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew4" name="quantityNew4" value="" tabindex="5" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode4" name="itemCode4" value="I101005">
                            <input type="hidden" id="safetyItemStatusId4" name="safetyItemStatusId4" value="25">
                                                        <tr>
                                <td>절연장갑</td>
                                <td><input type="text" id="quantity5" name="quantity5" value="0" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew5" name="quantityNew5" value="" tabindex="6" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode5" name="itemCode5" value="I101006">
                            <input type="hidden" id="safetyItemStatusId5" name="safetyItemStatusId5" value="26">
                                                        <tr>
                                <td>구급함(사무실)</td>
                                <td><input type="text" id="quantity6" name="quantity6" value="1" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew6" name="quantityNew6" value="" tabindex="7" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode6" name="itemCode6" value="I101007">
                            <input type="hidden" id="safetyItemStatusId6" name="safetyItemStatusId6" value="27">
                                                        <tr>
                                <td>구급함(차량)</td>
                                <td><input type="text" id="quantity7" name="quantity7" value="0" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew7" name="quantityNew7" value="" tabindex="8" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode7" name="itemCode7" value="I101008">
                            <input type="hidden" id="safetyItemStatusId7" name="safetyItemStatusId7" value="28">
                                                        <tr>
                                <td>안전 삼각대</td>
                                <td><input type="text" id="quantity8" name="quantity8" value="0" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew8" name="quantityNew8" value="" tabindex="9" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode8" name="itemCode8" value="I101009">
                            <input type="hidden" id="safetyItemStatusId8" name="safetyItemStatusId8" value="29">
                                                        <tr>
                                <td>차량소화기</td>
                                <td><input type="text" id="quantity9" name="quantity9" value="0" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew9" name="quantityNew9" value="" tabindex="10" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode9" name="itemCode9" value="I101010">
                            <input type="hidden" id="safetyItemStatusId9" name="safetyItemStatusId9" value="30">
                                                        <tr>
                                <td>사다리</td>
                                <td><input type="text" id="quantity10" name="quantity10" value="" tabindex="-1" class="input-edit"></td>
                                <td><input type="text" id="quantityNew10" name="quantityNew10" value="" tabindex="11" class="input-edit"></td>
                            </tr>
                            <input type="hidden" id="itemCode10" name="itemCode10" value="I101011">
                            <input type="hidden" id="safetyItemStatusId10" name="safetyItemStatusId10" value="">
                                                    <input type="hidden" id="itemInfoListSize" name="itemInfoListSize" value="11">
                    </tbody>
                </table>
            </div>

            <div id="loading-overlay" style="display: none;">
                <div id="loading">
                    <div class="dot-area">
                        <div class="dot left three"></div>
                        <div class="dot left two"></div>
                        <div class="dot left one"></div>
                        <i class="ic-logo"></i>
                        <div class="dot right one"></div>
                        <div class="dot right two"></div>
                        <div class="dot right three"></div>
                    </div>
                    <h2 class="loading-text">잠시만 기다려주세요</h2>
                </div>
            </div>

            <div class="text-center m-t-20">
                <button id="btnEdit" class="btn btn-default primary" type="button" style="">수정</button>
                <button id="btnClose" class="btn btn-default gray" type="button">닫기</button>
            </div>

            <!-- 추가 -->
            <input type="hidden" id="page" name="page" value="1">
            <input type="hidden" id="perPage" name="perPage" value="10">
            <input type="hidden" id="searchDept1Code" name="searchDept1Code" value="KTN000">
            <input type="hidden" id="searchDept2Code" name="searchDept2Code" value="">
            <input type="hidden" id="searchDept3Code" name="searchDept3Code" value="">
            <input type="hidden" id="searchDept4Code" name="searchDept4Code" value="">
            <input type="hidden" id="searchItemType" name="searchItemType" value="소모품">
            <input type="hidden" id="searchUseYn" name="searchUseYn" value="Y">
        </form>

            <!-- 페이지 내용 끝  -->
    </section>
</div>
<!-- /#page-content-wrapper -->
<!-- 기본 레이아웃 끝 -->
<script type="text/javascript" src="/js/dept-select_new.js"></script>
<script type="text/javascript">
    const $form = $('#itemSafetyWrite');
    let $btnSearch = $("#btnSearch");
    let $btnSave = $("#btnSave");
    let $btnClose = $("#btnClose");
    let $itemInfoListSize = $('#itemInfoListSize');
    let $searchDept1Code = $('#searchDept1Code');
    let $searchDept2Code = $('#searchDept2Code');
    let $searchDept3Code = $('#searchDept3Code');

    /** 부서 셀렉트 */
    let isSet = setDeptCodePath($searchDept1Code, null, null, $('#deptCodePath').val());
    let isSu = (String($('#roleCode').val()) == 'SU');
    deptSelect($searchDept1Code, $searchDept2Code, $searchDept3Code, (!isSu && isSet));

    /** 엔터키 핸들러 */
    $('input[type=text]').keydown(function (e) {
        if (e.keyCode === 13) {
            $btnSearch.click();
        }
    });

    /** 조회키 핸들러 */
    $btnSearch.on('click', function () {
        let $formValues = serializeFormToJson($form);
        if (!$formValues.searchDept1Code || !$formValues.searchDept2Code || !$formValues.searchDept3Code) {
            $btnSave.hide();
            alert("\'팀\'까지 선택 후 조회해주시기 바랍니다.");
        } else {
            $btnSave.show();
            for (let i = 0; i < $itemInfoListSize.val(); i++) {
                $('#quantity'+i).empty().val("");
                $('#quantityNew'+i).empty().val("");
                $('#safetyItemStatusId'+i).empty().val("");
            }
            searchItemList($formValues);
        }
    });

    function searchItemList($formValues) {
        $.ajax({
            type: 'GET',
            url: '/item-safety/write/list',
            async: false,
            data: $formValues,
            complete: function () {
            },
            success: function (data, textStatus, jqXHR) {
                for (let i = 0; i < $itemInfoListSize.val(); i++) {
                    let itemCode = $('#itemCode'+i).val();
                    if (data.length !== 0) {
                        $.each(data, function(j, item) {
                            if (item.itemCode === itemCode) {
                                $('#quantity'+i).empty().val(item.quantity);
                                $('#safetyItemStatusId'+i).empty().val(item.safetyItemStatusId);
                            }
                        });
                    } else {
                        $('#quantity'+i).empty().val(0);
                        $('#safetyItemStatusId'+i).empty().val("");
                    }
                }
            },
            error: function() {
                alert("값을 가져오지 못했습니다.");
            }
        });
    }

    /** 저장 */
    $btnSave.on('click', function () {
        let $formValues = serializeFormToJson($form);
        let $saveSafetyItemStatusIdArr = [];
        let $saveItemCodeArr = [];
        let $saveQuantityArr = [];

        for (let i = 0; i < $formValues.itemInfoListSize; i++) {
            if ($('#quantityNew'+i).val()) {
                $saveSafetyItemStatusIdArr.push($('#safetyItemStatusId'+i).val());
                $saveItemCodeArr.push($('#itemCode'+i).val());
                $saveQuantityArr.push($('#quantityNew'+i).val());
            }
        }

        // 저장 시, 각 입력필드 단위로 저장해야하기 떄문에 배열로 전환하여 값을 넘겨준다.
        $formValues.saveSafetyItemStatusIdArr = $saveSafetyItemStatusIdArr;
        $formValues.saveItemCodeArr = $saveItemCodeArr;
        $formValues.saveQuantityArr = $saveQuantityArr;

        // 조직 검색 로직의 재사용성을 위해 저장시에 변수를 조정하여 넘겨준다.
        $formValues.region = $searchDept1Code.val();
        $formValues.headoffice = $searchDept2Code.val();

        // 사용안함 2021-11-18
        //$formValues.team = $searchDept3Code.val();

        // 파트를 선택한 경우에는 팀과 파트를 입력하도록 변경...
        if ($searchDept1Code.val() == "KTN000" && $searchDept3Code.val() != "" && $searchDept3Code.val().substring(5,6) == "0") {
            $formValues.team = $searchDept3Code.val();
        } else if ($searchDept1Code.val() == "KTN000" && $searchDept3Code.val() != "" && $searchDept3Code.val().substring(5,6) != "0") {
            $formValues.team = $searchDept3Code.val().substring(0,5) + "0";
            $formValues.part = $searchDept3Code.val();
        } else if ($searchDept1Code.val() == "KTS000" && $searchDept3Code.val() != "" && $searchDept3Code.val().substring(2,3) == "0") {
            $formValues.team = $searchDept3Code.val();
        } else if ($searchDept1Code.val() == "KTS000" && $searchDept3Code.val() != "" && $searchDept3Code.val().substring(2,3) != "0") {
            $formValues.team = $searchDept3Code.val().substring(0,5) + "0";
            $formValues.part = $searchDept3Code.val();
        }

        // ""일 경우 DB에 null이 저장되도록 조정해준다. (팀 검색할 때 쿼리에 part is Null을 위해서..)
//            $formValues.part = $searchDept4Code.val() !== "" ? $searchDept4Code.val() : null;

        $formValues.saveLastDeptCode = $formValues.part ? $formValues.part : ($formValues.team ? $formValues.team : ($formValues.headoffice ? $formValues.headoffice : $formValues.region));

        $.ajax({
            url: "/item-safety/write/data",
            type: "POST",
            dataType: "JSON",
            contentType: "application/json",
            data: JSON.stringify($formValues),
            beforeSend: function (xhr, opts) {
                let flag = true;

                if (0 === $saveQuantityArr.length) {
                    alert("값을 입력해주세요.");
                    flag = false;
                }

                for (let i = 0; i < $saveQuantityArr.length; i++) {
                    if (!checkValidOnlyNumber($saveQuantityArr[i])) {
                        alert("숫자만 입력해주세요.")
                        flag = false;
                    }
                }

                if (!flag || !confirm("저장 하시겠습니까?")) {
                    xhr.abort();
                }
            },
            success: function(data) {
                if (!data.result) {
                    alert(data.msg);
                } else {
                    alert("성공적으로 저장되었습니다.");
                    location.href = '/item-safety/list/M09S02';
                }
            },
            error: function(e) {
                alert(e);
            }
          });
    });

    /** 닫기 */
    $btnClose.on('click', function () {
        location.href = "/item-safety/list/M09S02";
    });
</script>
<!--loading-->
<div id="loading-overlay">
    <div id="loading">
        <div class="dot-area">
            <div class="dot left three"></div>
            <div class="dot left two"></div>
            <div class="dot left one"></div>
            <i class="ic-logo"></i>
            <div class="dot right one"></div>
            <div class="dot right two"></div>
            <div class="dot right three"></div>
        </div>
        <h2 class="loading-text">잠시만 기다려주세요</h2>
    </div>
</div>
</div>
<script type="text/javascript">
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });

	$.ajax({
        url: "/rolemenu/user",
        type: "GET",
        dataType: "JSON",
        contentType: "application/json",
        success: function(result) {
            listMenu(result.data.contents, 'M09S02')
        }
	})

    function listMenu(menus, selectedMenuCode) {
        let bodyHtml = '';
        let menuGroup = '';
        let $display = "none";
        let $active = "";
        let $target = "";
        $.each(menus, function(idx, menu){
            if (menu.menuCode == "M13S01" || menu.menuCode == "M13S02" || menu.menuCode == "M13S03") {
                $target = "_blank";
            } else {
                $target = "";
            }
            if (selectedMenuCode == menu.menuCode) {
                $active = "active";
            } else {
                $active = "";
            }
            if (menu.menuGroup == selectedMenuCode.substring(0,3)) {
                $display = "block";
            } else {
                $display = "none";
            }
            if (menuGroup != menu.menuGroup) {
                if (idx != 0) {
                    bodyHtml += '</ul></li>';
                }
                bodyHtml += '<li class="sub-menu">'
                        + '<a href="javascript:showSub1(\''+menu.menuCode+'\')">'+ menu.mainMenuName + '<span class="dcjq-icon"></span></a>'
                        + '<ul class="sub" id="subMenu'+ menu.menuCode+'" style="display: '+ $display +';">';
                bodyHtml += '<li><a href="'+menu.path+'" id="" class="'+$active+'" target="'+$target+'">'+ menu.subMenuName +'</a></li>'
            } else {
                bodyHtml += '<li><a href="'+menu.path+'" id="" class="'+$active+'" target="'+$target+'">'+ menu.subMenuName +'</a></li>'
            }
            menuGroup =  menu.menuGroup;
        });
        bodyHtml += '</ul></li>';
        $('#nav-accordion').html(bodyHtml);
    }


    function showSub1(menuCode) {

        let state =  $('#subMenu'+menuCode).css('display');
        if (state == 'none') {
            state = 'block';
        } else {
            state = 'none';
        }
        $('#subMenu'+menuCode).css("display",state);
    }

    /* 정보수정(비밀번호 변경) */
    function fn_modify(){
    	location.href = "/users/password/edit";
    }

    /* 로그아웃 */
    function fn_logout(){
    	if (confirm("[로그아웃] 하시겠습니까?")) {
    		location.href = "/logout";
    	}
    }

	//페이지별수 제한
	$(".pageNum").on("propertychange change keyup paste", function() {
	     // 현재 변경된 데이터 셋팅
	     $(this).val($(this).val().replace(/[^0-9]/g,""));
	});
	$("#perPage").on("propertychange change keyup paste", function() {
	     var current = $(this).val();
	     if(current > 2000){
	         alert("2000 이하로만 입력하세요." );
	         $(this).val('10');
	         return false;
	     }
	});

</script>
</body>
</html>